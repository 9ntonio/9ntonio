{"version":3,"file":"component---src-pages-unknown-pleasures-js-b7cf6fc655b5eb8d0aa0.js","mappings":"4xCAqJA,UAjJ6B,WAE5B,IAAMA,GAAYC,EAAAA,EAAAA,QAAO,MAG8BC,EAAAC,GAAfC,EAAAA,EAAAA,WAAS,GAAM,GAAhDC,EAAYH,EAAA,GAAEI,EAAeJ,EAAA,GACWK,EAAAJ,GAAfC,EAAAA,EAAAA,WAAS,GAAM,GAAxCI,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAkD5B,OA/CAG,EAAAA,EAAAA,YAAU,WACT,IAAMC,EAASX,EAAUY,QAEzB,GAAKD,EAAL,CAGA,IAAME,EAAa,WAClBC,QAAQC,IAAI,gDACZT,GAAgB,GAGhB,IACKK,EAAOK,eAEVL,EAAOK,cAAcC,YAAY,eAAgB,IAEnD,CAAE,MAAOC,GACRJ,QAAQC,IAAI,gDAAiDG,EAC9D,CACD,EAGMC,EAAc,SAACC,GACpBN,QAAQM,MAAM,0CAA2CA,GACzDX,GAAY,EACb,EAGAE,EAAOU,iBAAiB,OAAQR,GAChCF,EAAOU,iBAAiB,QAASF,GAGjC,IAAMG,EAAYC,YAAW,WACvBlB,GACJS,QAAQU,KAAK,sCAGf,GAAG,KAGH,OAAO,WACNb,EAAOc,oBAAoB,OAAQZ,GACnCF,EAAOc,oBAAoB,QAASN,GACpCO,aAAaJ,EACd,CAzCmB,CA0CpB,GAAG,CAACjB,KAGHsB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACCC,EAAAA,EAAAA,KAACC,EAAAA,EAAoB,KACrBD,EAAAA,EAAAA,KAACE,EAAAA,EAAG,CACHC,UAAU,oBACVC,YAAY,oGACZC,KAAM,CACL,CACCC,KAAM,WACNC,QAAS,2GAEV,CACCC,SAAU,UACVD,QAAS,WAEV,CACCD,KAAM,SACNC,QAAS,oBAMZV,EAAAA,EAAAA,MAAA,OACCY,MAAO,CACNC,OAAQ,EACRC,QAAS,EACTC,MAAO,QACPC,OAAQ,QACRC,SAAU,SACVC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,gBAAiB,QAChBrB,SAAA,CAGDrB,IACAmB,EAAAA,EAAAA,MAAA,OACCY,MAAO,CACNM,SAAU,WACVC,IAAK,MACLC,KAAM,MACNI,UAAW,wBACXC,MAAO,QACPC,UAAW,SACXC,SAAU,MACVC,WAAY,uCACZC,OAAQ,IACP3B,SAAA,EAEFC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,sCACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,0DACHC,EAAAA,EAAAA,KAAA,KAAAD,UACCC,EAAAA,EAAAA,KAAA,KAAG2B,KAAK,IAAIlB,MAAO,CAAEa,MAAO,QAASM,eAAgB,aAAc7B,SAAC,6BAQvEC,EAAAA,EAAAA,KAAA,UACC6B,IAAK3D,EACL4D,IAAI,gCACJrB,MAAO,CACNG,MAAO,OACPC,OAAQ,OACRkB,OAAQ,OACRrB,OAAQ,EACRC,QAAS,EACTqB,QAAS,QACTjB,SAAU,WACVC,IAAK,EACLC,KAAM,GAEPgB,MAAM,oBACNC,MAAM,yHACNC,QAAQ,QACRC,WAAW,OACXC,QAAQ,+FAKb,C","sources":["webpack://antonio-almena-portfolio/./src/pages/unknown-pleasures.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport Seo from \"../components/Seo\";\r\nimport FontLoadingOptimizer from \"../components/FontLoadingOptimizer\";\r\n\r\nconst UnknownPleasuresPage = () => {\r\n\t// Create a reference to the iframe element\r\n\tconst iframeRef = useRef(null);\r\n\r\n\t// State to track if the iframe loaded successfully\r\n\tconst [iframeLoaded, setIframeLoaded] = useState(false);\r\n\tconst [hasError, setHasError] = useState(false);\r\n\r\n\t// Effect to handle iframe loading and potential issues\r\n\tuseEffect(() => {\r\n\t\tconst iframe = iframeRef.current;\r\n\r\n\t\tif (!iframe) return;\r\n\r\n\t\t// Handle iframe load event\r\n\t\tconst handleLoad = () => {\r\n\t\t\tconsole.log(\"Unknown Pleasures iframe loaded successfully\");\r\n\t\t\tsetIframeLoaded(true);\r\n\r\n\t\t\t// Try to resolve cross-origin issues by sending a message\r\n\t\t\ttry {\r\n\t\t\t\tif (iframe.contentWindow) {\r\n\t\t\t\t\t// This is just an attempt to communicate with the iframe\r\n\t\t\t\t\tiframe.contentWindow.postMessage(\"iframeLoaded\", \"*\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(\"Note: Cross-origin communication not possible\", e);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Handle iframe error event\r\n\t\tconst handleError = (error) => {\r\n\t\t\tconsole.error(\"Error loading Unknown Pleasures iframe:\", error);\r\n\t\t\tsetHasError(true);\r\n\t\t};\r\n\r\n\t\t// Add event listeners\r\n\t\tiframe.addEventListener(\"load\", handleLoad);\r\n\t\tiframe.addEventListener(\"error\", handleError);\r\n\r\n\t\t// Set a timeout to check if iframe loaded after 5 seconds\r\n\t\tconst timeoutId = setTimeout(() => {\r\n\t\t\tif (!iframeLoaded) {\r\n\t\t\t\tconsole.warn(\"Iframe may not have loaded properly\");\r\n\t\t\t\t// Don't set error here - the iframe might be loading fine even if we can't access its content\r\n\t\t\t}\r\n\t\t}, 5000);\r\n\r\n\t\t// Clean up event listeners\r\n\t\treturn () => {\r\n\t\t\tiframe.removeEventListener(\"load\", handleLoad);\r\n\t\t\tiframe.removeEventListener(\"error\", handleError);\r\n\t\t\tclearTimeout(timeoutId);\r\n\t\t};\r\n\t}, [iframeLoaded]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FontLoadingOptimizer />\r\n\t\t\t<Seo\r\n\t\t\t\tSitetitle=\"Unknown Pleasures\"\r\n\t\t\t\tdescription=\"Unknown Pleasures visualization experiment inspired by Joy Division's Unknown Pleasures album art\"\r\n\t\t\t\tmeta={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"keywords\",\r\n\t\t\t\t\t\tcontent: \"unknown pleasures,visualization,experimental,music,data,javascript,joy division,antonio almena, 9ntonio\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproperty: \"og:type\",\r\n\t\t\t\t\t\tcontent: \"website\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"robots\",\r\n\t\t\t\t\t\tcontent: \"index,follow\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Container with minimal styling to avoid interference */}\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\twidth: \"100vw\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\toverflow: \"hidden\",\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t\tbottom: 0,\r\n\t\t\t\t\tbackgroundColor: \"#000\", // Black background as fallback\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{/* Show error message if iframe failed to load */}\r\n\t\t\t\t{hasError && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\ttop: \"50%\",\r\n\t\t\t\t\t\t\tleft: \"50%\",\r\n\t\t\t\t\t\t\ttransform: \"translate(-50%, -50%)\",\r\n\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\tmaxWidth: \"80%\",\r\n\t\t\t\t\t\t\tfontFamily: \"system-ui, -apple-system, sans-serif\",\r\n\t\t\t\t\t\t\tzIndex: 10,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<h2>Unable to load Unknown Pleasures</h2>\r\n\t\t\t\t\t\t<p>Please try refreshing the page or visit again later.</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<a href=\"/\" style={{ color: \"white\", textDecoration: \"underline\" }}>\r\n\t\t\t\t\t\t\t\tReturn to homepage\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* The iframe that contains the Unknown Pleasures experiment */}\r\n\t\t\t\t<iframe\r\n\t\t\t\t\tref={iframeRef}\r\n\t\t\t\t\tsrc=\"/unknown-pleasures/index.html\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\t\tborder: \"none\",\r\n\t\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\t\tdisplay: \"block\",\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttitle=\"Unknown Pleasures\"\r\n\t\t\t\t\tallow=\"autoplay; microphone; camera; midi; geolocation; accelerometer; gyroscope; payment; magnetometer; encrypted-media; usb\"\r\n\t\t\t\t\tloading=\"eager\"\r\n\t\t\t\t\timportance=\"high\"\r\n\t\t\t\t\tsandbox=\"allow-same-origin allow-scripts allow-forms allow-popups allow-downloads allow-modals\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UnknownPleasuresPage;\r\n"],"names":["iframeRef","useRef","_useState2","_slicedToArray","useState","iframeLoaded","setIframeLoaded","_useState4","hasError","setHasError","useEffect","iframe","current","handleLoad","console","log","contentWindow","postMessage","e","handleError","error","addEventListener","timeoutId","setTimeout","warn","removeEventListener","clearTimeout","_jsxs","_Fragment","children","_jsx","FontLoadingOptimizer","Seo","Sitetitle","description","meta","name","content","property","style","margin","padding","width","height","overflow","position","top","left","right","bottom","backgroundColor","transform","color","textAlign","maxWidth","fontFamily","zIndex","href","textDecoration","ref","src","border","display","title","allow","loading","importance","sandbox"],"sourceRoot":""}